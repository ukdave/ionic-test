plugins {
	id 'com.moowork.node' version '0.9'
}

apply plugin: 'java'

sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
	mavenCentral()
}

dependencies {
	testCompile 'junit:junit:4.12'
	testCompile 'org.hamcrest:hamcrest-core:1.3'
}

task karmaRun(type: NodeTask, dependsOn: 'npmInstall') {
	script = file('node_modules/karma/bin/karma')
	args = ['start', 'karma.conf.js', '--single-run']
}
test.dependsOn karmaRun
